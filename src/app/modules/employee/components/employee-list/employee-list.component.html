<ng-container *ngIf="!showDetail">
  <div class="row w-100 m-0">
    <div class="row w-100">
      <div class="col">
        Employee List
      </div>
      <div class="row col">
        <button class="col-4" (click)="printPage(EmployeeListTable)">
          <i class="fas fa-print"></i>
          Print Page
        </button>
        <div class="col-8">
          <div class="search-box">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
            <input
              class="search-text-box"
              type="search"
              matInput
              (keyup)="applyFilter($event.target.value)"
              placeholder="Search Employee"
              (change)="searchEmployee()"
            />
          </div>
        </div>
      </div>
    </div>
    <ng-container *ngTemplateOutlet="EmployeeListTable"></ng-container>
    <ng-template #EmployeeListTable>
      <table class="w-100 mt-4" mat-table [dataSource]="employees">
        <ng-container matColumnDef="code">
          <th mat-header-cell *matHeaderCellDef>Employee Code</th>
          <td mat-cell *matCellDef="let row" id="{{ row.employeecode }}">
            {{ row.employeecode }}
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let row" id="{{ row.employeecode }}">
            {{ row.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="rank">
          <th mat-header-cell *matHeaderCellDef>Rank</th>
          <td mat-cell *matCellDef="let row" id="{{ row.employeecode }}">
            {{ row.rank }}
          </td>
        </ng-container>

        <ng-container matColumnDef="contactNumber">
          <th mat-header-cell *matHeaderCellDef>
            Contact Number
          </th>
          <td mat-cell *matCellDef="let row" id="{{ row.employeecode }}">
            {{ row.phonenumber }}
          </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef hideInPrint>Action</th>
          <td mat-cell *matCellDef="let row" hideInPrint class="actions">
            <i
              class="fas fa-eye"
              (click)="toggleEmployeeDetailView(row.employeecode)"
            ></i>
            <i class="fas fa-print" (click)="productprint()"></i>
            <i
              class="fas fa-edit"
              (click)="toggleEmployeeDetailView(row.employeecode, true)"
            ></i>
            <i
              class="fas fa-trash"
              (click)="deleteEmployee(row.employeecode)"
            ></i>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          [ngClass]="table - row"
          tabindex="1"
          *matRowDef="let row; columns: displayedColumns"
        ></tr>
      </table>
    </ng-template>

    <mat-paginator [pageSizeOptions]="[5, 10]"></mat-paginator>
  </div>
</ng-container>
<ng-container *ngIf="showDetail">
  <app-employee-detail
    #employeeDetail
    [employeeCode]="employee && employee.employeecode"
  ></app-employee-detail>
</ng-container>
